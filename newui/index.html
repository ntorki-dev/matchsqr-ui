<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MatchSqr</title>
  <link rel="stylesheet" href="./styles.css"/>
</head>
<body>
  <!-- Normal header shown everywhere except the Game screen -->
  <header class="topbar">
    <div class="topbar__left">
      <img class="logo" src="./logo.png" alt="MatchSqr" onerror="this.style.display='none'"/>
      <div class="brand">MatchSqr</div>
    </div>
    <nav class="topbar__right">
      <a class="btn" href="#/join">Join</a>
      <a id="navAccount" class="btn hidden" href="#/account">Account</a>
      <a id="navLogin" class="btn btn--green" href="#/login">Login</a>
      <a class="help" href="#/help">?</a>
    </nav>
  </header>

  <main id="app" class="container"></main>

  <!-- =================== TEMPLATES =================== -->

  <!-- Home -->
  <template id="tpl-home">
    <section class="home">
      <img class="home__globe" src="./globe.svg" alt="" onerror="this.style.display='none'"/>
      <h1 class="home__title">Safe space to build<br/>meaningful connections.</h1>
      <p class="home__subtitle">Play with other people interactive games designed to uncover shared values,
        emotional style, interests, and personality.</p>
      <div class="home__cta">
        <a id="homeHostBtn" class="btn btn--green"><span class="crown-emoji">ðŸ‘‘</span> Host the Game</a>
        <a class="btn" href="#/join">â–¶ Join the Game</a>
      </div>
      <div class="home__footer"><a class="learn" href="#/learn">Learn more</a> about MatchSqr</div>
    </section>
  </template>

  <!-- Host lobby -->
  <template id="tpl-host-lobby">
    <section class="lobby">
      <h1 class="title-xl">Get ready.<br/>You might be surprised!</h1>
      <div class="lobby__actions">
        <button id="startBtn" class="btn btn--green">ðŸ‘‘ Start the Game</button>
      </div>
      <div class="muted">Game ID: <span id="lobbyId" class="code">â€”</span>
        <button id="copyId" class="icon" title="Copy ID">ðŸ“‹</button>
      </div>
      <p class="muted small">Please share this Game ID with other players</p>
    </section>
  </template>

  <!-- Join -->
  <template id="tpl-join">
    <section class="join">
      <h1 class="title-xl">Hey, happy to see you!</h1>
      <div class="join__grid">
        <div class="join__col">
          <div class="legend">How we should call you?</div>
          <input id="joinName" class="input" placeholder="Name"/>
        </div>
        <div class="join__col">
          <div class="legend">I have an account</div>
          <input id="joinCode" class="input" placeholder="Enter Game ID"/>
        </div>
      </div>
      <div><button id="joinBtn" class="btn btn--green">â–¶ Join the Game</button></div>
      <p class="muted small">You can join as a guest or you can <a class="link" href="#/register">create an account</a></p>
    </section>
  </template>

  <!-- Register -->
  <template id="tpl-register">
    <section class="join">
      <h1 class="title-xl">Hey, happy to see you!</h1>
      <div class="join__grid">
        <div class="join__col">
          <div class="legend">Email</div>
          <input id="regEmail" class="input" placeholder="Email"/>
        </div>
        <div class="join__col">
          <div class="legend">Password</div>
          <input id="regPassword" type="password" class="input" placeholder="Password"/>
        </div>
      </div>
      <div><button id="regBtn" class="btn btn--green">Submit</button></div>
      <p id="regMsg" class="muted small"></p>
    </section>
  </template>

  <!-- Login -->
  <template id="tpl-login">
    <section class="join">
      <h1 class="title-xl">Welcome back</h1>
      <div class="join__grid">
        <div class="join__col">
          <div class="legend">Email</div>
          <input id="loginEmail" class="input" placeholder="email@domain.com"/>
        </div>
        <div class="join__col">
          <div class="legend">Password</div>
          <input id="loginPassword" type="password" class="input" placeholder="Password"/>
        </div>
      </div>
      <label class="check"><input id="rememberMe" type="checkbox"/> Keep me logged in</label>
      <div><button id="loginBtn" class="btn btn--green">Login</button></div>
      <p id="loginMsg" class="muted small"></p>
    </section>
  </template>

  <!-- Game (immersive) -->
  <template id="tpl-game">
    <section class="game-wrap">
      <div class="game-top">
        <div class="actions">
          <button id="extendBtn" class="btn grey" disabled>Extend</button>
          <button id="endBtn" class="btn btn--green">End game &amp; analyze</button>
          <span class="avatar small"></span>
        </div>
        <div class="timer" id="timeLeft">--:--</div>
        <div></div>
      </div>

      <div class="levels">
        <label><input type="radio" name="lvl" disabled/> Icebreaker</label>
        <label><input type="radio" name="lvl" disabled/> Get to know you</label>
        <label><input type="radio" name="lvl" disabled/> The real you</label>
      </div>

      <div class="arena">
        <div class="card">
          <div class="card__logo">M</div>
          <div class="card__text">â€¦</div>
          <div class="card__brand">@matchsqr</div>
        </div>
        <div class="io">
          <button id="micBtn" class="tile" title="Record answer">ðŸŽ™</button>
          <button id="kbBtn" class="tile" title="Type answer">âŒ¨</button>
        </div>
      </div>

      <div class="voice" id="voiceBar" hidden>
        <div class="bars"><i></i><i></i><i></i><i></i><i></i><i></i></div>
        <button id="stopRec" class="btn grey">Stop</button>
      </div>

      <div id="textBox" class="textbox" hidden>
        <textarea id="answerInput" class="input input--area" placeholder="Type hereâ€¦"></textarea>
        <button id="sendBtn" class="btn grey">Submit</button>
      </div>
    </section>
  </template>

  <!-- Summary -->
  <template id="tpl-summary">
    <section class="join">
      <h1 class="title-xl">Game Summary</h1>
      <p class="muted">Weâ€™ve emailed you the highlights. Want a full private report?</p>
      <button id="getReport" class="btn btn--green">Get Full Report</button>
    </section>
  </template>

  <script src="./app.js"></script>
</body>
</html>

:root{
  --ink:#1f2937; --muted:#6b7280; --green:#22a447; --green-pressed:#1e8d3d; --border:#e5e7eb; --radius:16px;
}
*{box-sizing:border-box} html,body{height:100%} body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:1080px;margin:0 auto;padding:16px}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:20px auto 0;padding:0 24px}
.header .brand{display:flex;align-items:center;gap:10px;font-weight:700}
.header .brand img{width:32px;height:32px;object-fit:contain}
.header .right{display:flex;align-items:center;gap:12px}
.header .btn-login{background:var(--green);color:#fff;border:0;border-radius:8px;padding:8px 14px;font-weight:600;cursor:pointer}
.header .btn-help{color:#000000;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:18px;border:1px solid var(--border);background:#fff;font-weight:700}
.header .avatar{width:32px;height:32px;object-fit:cover;}

/* Homepage hero */
.home-hero{max-width:980px;margin:20px auto 0;padding:0 24px;text-align:center}
.home-hero .globe{width:250px;height:250px;margin:0 auto 18px auto;object-fit:contain}
/* Sphere video styling: same box as globe, blends into background */
.home-hero .sphere{
  width:250px;
  height:250px;
  margin:0 auto 18px auto;
  object-fit:contain;
  display:block;
  pointer-events:none;
  -webkit-mask-image: linear-gradient(to bottom, transparent 0, black 30px, black calc(100% - 30px), transparent 100%);
  mask-image: linear-gradient(to bottom, transparent 0, black 30px, black calc(100% - 30px), transparent 100%);
}
@media (max-width:520px){
  .home-hero .sphere{ width:160px; height:160px; }
}
.home-hero h1{font-size:48px;line-height:1.15;margin:0 0 10px 0;font-weight:800}
.home-hero p{max-width:720px;margin:0 auto 28px auto;color:var(--muted);font-size:18px}
.cta-row{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}
.cta{display:inline-flex;align-items:center;gap:10px;background:var(--green);color:#fff;border:0;border-radius:8px;padding:12px 18px;font-weight:700;cursor:pointer}
.cta img{width:18px;height:18px;object-fit:contain}
.home-learn{
  position: static;
  display: block;
  margin: 16px 0 0;
  text-align: left;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}

/* Cards / layout */
.card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);padding:16px}
.grid{display:grid;gap:16px}

/* Host lobby */
.host-wrap{max-width:720px;margin:28px auto;padding:0 16px}
.host-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.inline-actions{display:flex;align-items:center;gap:10px}
.icon-btn{background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
.icon-btn img{width:18px;height:18px}
.primary{background:var(--green);color:#fff;border:0;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer}
.ghost{background:#fff;border:1px solid var(--border);border-radius:10px;padding:12px 16px;cursor:pointer}
.help{font-size:12px}

/* Game room */
.room-wrap{max-width:860px;margin:24px auto;padding:0 16px}
.timer{font-weight:800}
.main-card{min-height:260px;display:flex;align-items:center;justify-content:center;position:relative}

/* Centered round Start (pre-start) */
.start-round{width:120px;height:120px;border-radius:60px;background:var(--green);color:#fff;border:0;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;box-shadow:0 10px 30px rgba(34,164,71,.25)}

.controls-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:12px 0;}
.hidden{display:none !important}
.input{width:100%;padding:12px 14px;background:#fff;color:var(--ink);border:1px solid var(--border);border-radius:12px}
.btn{background:var(--green);color:#fff;border:0;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer}
.btn.secondary{background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0}
.btn.warn{background:#ffb020;color:#3a2a00}
.btn.danger{background:#e05252}

.kb-mic-row{display:flex;gap:8px}
.kb-mic-btn{background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px 12px;display:inline-flex;align-items:center;gap:8px;cursor:pointer}
.kb-mic-btn img{width:18px;height:18px}
.answer-row{display:flex;gap:8px;margin-top:8px}

/* Toast & offline */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:24px;padding:10px 14px;border-radius:10px;background:#111;color:#fff;z-index:1000;font-size:14px}
.offline-banner{position:sticky;top:0;width:100%;background:#f1f5eb;color:#37543a;padding:8px 12px;text-align:center;border-bottom:1px solid var(--border);display:none}
.offline-banner.show{display:block}

/* Debug tray (optional) */
.debug-tray{position:fixed;bottom:0;left:0;right:0;max-height:40vh;overflow:auto;background:#111;color:#e5e7eb;font-size:12px;padding:8px 10px;display:none}
.debug-tray pre{white-space:pre-wrap;word-break:break-word}


/* === Homepage typography scale (about 25% smaller) === */
.home-hero h1{
  font-size: clamp(22px, 4.2vw, 34px);
  line-height: 1.2;
}
.home-hero p{
  font-size: clamp(14px, 2.4vw, 18px);
  line-height: 1.55;
}

/* === Learn more: normal flow, only phrase clickable === */
.home-learn{
  position: static;
  display: block;
  margin: 16px 0 0;
  text-align: left;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}
.home-learn .learn-link{
  color: #2563eb;
  text-decoration: none;
  font-weight: 500;
}
.home-learn .learn-link:hover{ text-decoration: underline; }

/* Responsive tweaks */
@media (max-width: 520px){
  .home-hero .globe{ width: 200px; height: 200px; }
  .home-hero h1{ font-size: clamp(20px, 6vw, 28px); }
  .home-hero p{ font-size: clamp(13px, 3.3vw, 16px); }
  .home-learn{
  position: static;
  display: block;
  margin: 16px auto 0;
  text-align: center;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}
}

@media (max-width: 520px){ .home-learn{ font-size: 13px; } }


/* Host screen additions */

@media (max-width: 640px){
  }
.host-create .cta,
.host-existing .cta{
  justify-content:center;
  width: 100%;
  max-width: 320px; /* align with homepage CTA visual size */
  margin: 0 auto;
}
.code-share-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-top: 8px;
}
.code-share-row .code-value{
  font-weight: 800;
}

/* Host screen hero layout (card-less) */
.host-wrap{max-width:720px;margin:64px auto;padding:0 16px}
.host-center{justify-items:center;text-align:center}
.host-create .cta,
.host-existing .cta{
  justify-content:center;
  width: 100%;
  max-width: 240px; /* tighter like the reference */
  margin: 0 auto;
}
.host-create .cta img,
.host-existing .cta img{ display:inline-block; vertical-align:middle }
.code-share-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-top: 10px;
}
.code-share-row .code-value{ font-weight: 800; }
.small-note{ margin-top: 6px; }

/* Host headline, match homepage H1 at 25% smaller */
.host-wrap .host-lead{
  text-align: center;
  color: var(--ink);
  font-size: 32px;
  line-height: 1.15;
  font-weight: 800;
  margin: 0 0 16px 0;
  max-width: 720px;
  margin-left: auto;
  margin-right: auto;
}

@media (max-width: 640px){
  .host-wrap .host-lead{
    font-size: 28px;
  }
}



/* Host existing-game lines */
.code-share-col{display:flex;flex-direction:column;align-items:center;gap:8px}
.id-line,.share-line{display:flex;align-items:center;gap:10px;justify-content:center;flex-wrap:wrap}
.code-blob{display:inline-block;padding:4px 10px;border:1px solid var(--border);border-radius:8px;background:#fff}
.lead-help{font-size:14px}


/* Header should span full width and start at the very top on all pages */
html, body { margin: 0; }
.header{ width:100%; max-width:none; margin:0; padding:12px 24px; box-sizing:border-box; }


/* Default app background */
html, body { background: #fdfdfd; }

/* Game room theme via body class (no inline styles) */
body.is-game { background: #f7f5e5; }
body.is-game .header { background: #4a4a4a; color: #ffffff; }
/* body.is-game .header a { color: #ffffff; } */
body.is-game .site-footer,
body.is-game footer,
body.is-game .footer,
body.is-game .app-footer { background: #4a4a4a; color: #ffffff; }

.site-footer{
  position: fixed;
  left:0; right:0; bottom:0;
  height: 30px;
  box-sizing: border-box;
  padding: 12px 24px;
  background: transparent;
  color: inherit;
  z-index: 10;
}


/* === MOBILE OVERRIDE: Keep Learn more left-aligned on small screens === */
@media (max-width: 520px){
  .home-learn{
    text-align: left !important;
    margin: 16px 0 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    display: inline-block !important;   /* defeat parent centering */
    align-self: flex-start !important;   /* if parent is flex */
    justify-content: flex-start !important;
  }
}

.answer-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}


/* === Game layout variables & shared widths === */
body.is-game { --cardw: 220px; }

/* Rows above/below the card align to card width */
body.is-game #controlsRow,
body.is-game #toolsRow,
body.is-game #answerRow{
  max-width: var(--cardw);
  margin-left: auto;
  margin-right: auto;
  display: flex;
  justify-content: center;
}

/* Grid wrapper holding sidebar + card */
.room-main{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  column-gap:12px;
  align-items:flex-start;
  justify-items:center;
  width:100%;
}

/* Left sidebar for participants */
.side-left{ min-width:220px; justify-self:end; }

/* Main card sizing and positioning */
.main-card{
  width: var(--cardw);
  max-width: var(--cardw);
  position: relative;
}

/* Timer container inside the card */
.top-right{
  position:absolute;
  top:16px;
  right:16px;
  font-weight:800;
  display:flex;
  gap:12px;
  align-items:center;
}

/* Lobby wrapper */
.lobby-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  text-align:center;
  max-width:640px;
}

/* Question block in running */
.question-block{
  text-align:center;
  max-width:640px;
  padding:8px;
  margin-top:8px;
  position:relative;
}

/* Answer card spacing */
.answer-card{ margin-top:8px; }
.actions-row{ gap:8px; margin-top:6px; }

/* Mobile: stack content and hide sidebar to avoid pushing/overlap */
@media (max-width: 767px){
  body.is-game { --cardw: min(90vw, 220px); }
  .room-main{ display:flex; flex-direction:column; align-items:center; }
  .side-left{ display:none; }
  .main-card{ margin: 0 auto; }
}


/* === Mobile centering fix === */
@media (max-width: 767px){
  /* Stack and center the whole game area */
  .room-wrap{ display:flex; flex-direction:column; align-items:center; }

  /* Ensure the main wrapper is centered */
  .room-main{ display:flex; flex-direction:column; align-items:center; width:100%; }

  /* Constrain rows to the exact card width and center them */
  #controlsRow, #toolsRow, #answerRow{
    width:100%;
    max-width: var(--cardw) !important;
    margin-left:auto;
    margin-right:auto;
    display:flex;
    justify-content:center !important;
    gap:10px;
  }

  /* Keep the card centered and matching --cardw */
  .main-card{
    width: var(--cardw) !important;
    max-width: var(--cardw) !important;
    margin-left:auto;
    margin-right:auto;
  }
}


/* === Game room seating layout === */
:root{
  --ms-card-w: 220px;
  --ms-card-h: 260px;
  --ms-seat-font: 12px;
  --ms-side-gap: 12px;
  --ms-side-col-w: 96px;
}
@media (max-width: 640px){
  :root{
    --ms-card-w: clamp(160px, 72vw, 220px);
    --ms-card-h: calc(var(--ms-card-w) * 1.18182); /* 260/220 */
    --ms-seat-font: clamp(10px, 3.2vw, 12px);
    --ms-side-col-w: clamp(72px, 22vw, 96px);
  }
}

/* Hide legacy participants lists when seating columns are active */
#msPlist, #msPlistRun { display:none !important; }

.ms-card-row{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: var(--ms-side-gap);
}
.ms-seats-col{
  width: var(--ms-side-col-w);
  height: var(--ms-card-h);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.ms-seats-col.left{ text-align:right; }
.ms-seats-col.right{ text-align:left; }

.ms-seat{
  font-size: var(--ms-seat-font);
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 2px 4px;
}

.ms-card-center{
  display:flex;
  align-items:center;
  justify-content:center;
  min-width: var(--ms-card-w);
  width: var(--ms-card-w);
  min-height: var(--ms-card-h);
  height: var(--ms-card-h);
}

/* Ensure blocks inside the center respect sizing */
.ms-card-center .question-block{
  width: var(--ms-card-w);
  height: var(--ms-card-h);
  overflow:auto;
}

/* Reserve consistent height for lobby and summary blocks */
.ms-card-center > .lobby-wrap,
.ms-card-center > .summary-wrap,
.ms-card-center > div:not(.question-block){
  min-height: var(--ms-card-h);
}
/* === End seating layout === */

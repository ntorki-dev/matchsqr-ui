:root{
  --ink:#1f2937; --muted:#6b7280; --green:#22a447; --green-pressed:#1e8d3d; --border:#e5e7eb; --radius:16px;
}
*{box-sizing:border-box} html,body{height:100%} body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:1080px;margin:0 auto;padding:16px}

/* Restore base card styling */
.card{
  background:#ffffff;
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:16px;
}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:20px auto 0;padding:0 24px}
.header .brand{display:flex;align-items:center;gap:10px;font-weight:700}
.header .brand img{width:32px;height:32px;object-fit:contain}
.header .right{display:flex;align-items:center;gap:12px}
.header .btn-login{background:var(--green);color:#fff;border:0;border-radius:8px;padding:8px 14px;font-weight:600;cursor:pointer}
.header .btn-help{color:#000000;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:18px;border:1px solid var(--border);background:#fff;font-weight:700}
.header .avatar{width:32px;height:32px;object-fit:cover;}

/* Homepage hero */
.home-hero{max-width:980px;margin:20px auto 0;padding:0 24px;text-align:center}
.home-hero .globe{width:250px;height:250px;margin:0 auto 18px auto;object-fit:contain}
/* Sphere video styling: same box as globe, blends into background */
.home-hero .sphere{
  width:250px;
  height:250px;
  margin:0 auto 18px auto;
  object-fit:contain;
  display:block;
  pointer-events:none;
  -webkit-mask-image: linear-gradient(to bottom, transparent 0, black 30px, black calc(100% - 30px), transparent 100%);
  mask-image: linear-gradient(to bottom, transparent 0, black 30px, black calc(100% - 30px), transparent 100%);
}
@media (max-width:520px){
  .home-hero .sphere{ width:160px; height:160px; }
}
.home-hero h1{font-size:48px;line-height:1.15;margin:0 0 10px 0;font-weight:800}
.home-hero p{max-width:720px;margin:0 auto 28px auto;color:var(--muted);font-size:18px}
.cta-row{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}
.cta{display:inline-flex;align-items:center;gap:10px;background:var(--green);color:#fff;border:0;border-radius:8px;padding:12px 18px;font-weight:700;cursor:pointer}
.cta img{width:18px;height:18px;object-fit:contain}
button.cta:disabled { opacity:.5; filter:grayscale(1); cursor:not-allowed; }
.home-learn{
  position: static;
  display: block;
  margin: 16px 0 0;
  text-align: left;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}

/* Cards / layout */
.grid{display:grid;gap:16px}

/* Host lobby */
.host-wrap{max-width:720px;margin:28px auto;padding:0 16px}
.host-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.inline-actions{display:flex;align-items:center;gap:10px}
.icon-btn{background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
.icon-btn img{width:18px;height:18px}
.primary{background:var(--green);color:#fff;border:0;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer}
.ghost{background:#fff;border:1px solid var(--border);border-radius:10px;padding:12px 16px;cursor:pointer}
.help{font-size:12px}

/* Game room */
.room-wrap{max-width:860px;margin:24px auto;padding:0 16px}
.timer{font-weight:800}
/* Centered round Start (pre-start) */
.start-round{width:120px;height:120px;border-radius:60px;background:var(--green);color:#fff;border:0;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;box-shadow:0 10px 30px rgba(34,164,71,.25)}

.controls-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:12px 0;}
.hidden{display:none !important}
.input{width:100%;padding:12px 14px;background:#fff;color:var(--ink);border:1px solid var(--border);border-radius:12px}
.btn{background:var(--green);color:#fff;border:0;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer}
.btn.secondary{background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0}
.btn.warn{background:#ffb020;color:#3a2a00}
.btn.danger{background:#e05252}

/* Mic/Keyboard image-only controls */
.kb-mic-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Shared icon styling for mic and keyboard */
.tool-icon {
  width: 30px;
  height: 30px;
  cursor: pointer;
  vertical-align: middle;
}

/* Disabled when not your turn */
.tool-icon.disabled {
  opacity: 0.4;
  pointer-events: none;
  filter: grayscale(1);
}

/* Highlight the active input */
.tool-icon.active {
  outline: 2px solid #2ecc71;
  outline-offset: 2px;
  border-radius: 8px;
}

.answer-row{display:flex;gap:8px;margin-top:8px}

/* Toast & offline */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:24px;padding:10px 14px;border-radius:10px;background:#111;color:#fff;z-index:1000;font-size:14px}
.offline-banner{position:sticky;top:0;width:100%;background:#f1f5eb;color:#37543a;padding:8px 12px;text-align:center;border-bottom:1px solid var(--border);display:none}
.offline-banner.show{display:block}

/* Debug tray (optional) */
.debug-tray{position:fixed;bottom:0;left:0;right:0;max-height:40vh;overflow:auto;background:#111;color:#e5e7eb;font-size:12px;padding:8px 10px;display:none}
.debug-tray pre{white-space:pre-wrap;word-break:break-word}


/* === Homepage typography scale (about 25% smaller) === */
.home-hero h1{
  font-size: clamp(22px, 4.2vw, 34px);
  line-height: 1.2;
}
.home-hero p{
  font-size: clamp(14px, 2.4vw, 18px);
  line-height: 1.55;
}

/* === Learn more: normal flow, only phrase clickable === */
.home-learn{
  position: static;
  display: block;
  margin: 16px 0 0;
  text-align: left;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}
.home-learn .learn-link{
  color: #2563eb;
  text-decoration: none;
  font-weight: 500;
}
.home-learn .learn-link:hover{ text-decoration: underline; }

/* Responsive tweaks */
@media (max-width: 520px){
  .home-hero .globe{ width: 200px; height: 200px; }
  .home-hero h1{ font-size: clamp(20px, 6vw, 28px); }
  .home-hero p{ font-size: clamp(13px, 3.3vw, 16px); }
  .home-learn{
  position: static;
  display: block;
  margin: 16px auto 0;
  text-align: center;
  color: #667085;
  font-size: 14px;
  background: transparent;
  max-width: 720px;
  padding: 0 16px;
}
}

@media (max-width: 520px){ .home-learn{ font-size: 13px; } }


/* Host screen additions */

@media (max-width: 640px){
  }
.host-create .cta,
.host-existing .cta{
  justify-content:center;
  width: 100%;
  max-width: 320px; /* align with homepage CTA visual size */
  margin: 0 auto;
}
.code-share-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-top: 8px;
}
.code-share-row .code-value{
  font-weight: 800;
}

/* Host screen hero layout (card-less) */
.host-wrap{max-width:720px;margin:64px auto;padding:0 16px}
.host-center{justify-items:center;text-align:center}
.host-create .cta,
.host-existing .cta{
  justify-content:center;
  width: 100%;
  max-width: 240px; /* tighter like the reference */
  margin: 0 auto;
}
.host-create .cta img,
.host-existing .cta img{ display:inline-block; vertical-align:middle }
.code-share-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-top: 10px;
}
.code-share-row .code-value{ font-weight: 800; }
.small-note{ margin-top: 6px; }

/* Host headline, match homepage H1 at 25% smaller */
.host-wrap .host-lead{
  text-align: center;
  color: var(--ink);
  font-size: 32px;
  line-height: 1.15;
  font-weight: 600;
  margin: 0 0 16px 0;
  max-width: 720px;
  margin-left: auto;
  margin-right: auto;
}

@media (max-width: 640px){
  .host-wrap .host-lead{
    font-size: 28px;
  }
}



/* Host existing-game lines */
.code-share-col{display:flex;flex-direction:column;align-items:center;gap:8px}
.id-line,.share-line{display:flex;align-items:center;gap:10px;justify-content:center;flex-wrap:wrap}
.code-blob{display:inline-block;padding:4px 10px;border:1px solid var(--border);border-radius:8px;background:#fff}
.lead-help{font-size:14px}


/* Header should span full width and start at the very top on all pages */
html, body { margin: 0; }
.header{ width:100%; max-width:none; margin:0; padding:12px 24px; box-sizing:border-box; }


/* Default app background */
html, body { background: #fdfdfd; }

/* Game room theme via body class (no inline styles) */
body.is-game { background: #f7f5e5; }
body.is-game .header { background: #4a4a4a; color: #ffffff; }
/* body.is-game .header a { color: #ffffff; } */
body.is-game .site-footer,
body.is-game footer,
body.is-game .footer,
body.is-game .app-footer { background: #4a4a4a; color: #ffffff; }

.site-footer{
  margin-top: auto;
  position: static;
  height: auto;box-sizing: border-box;
  padding: 12px 24px;
  background: transparent;
  color: inherit;
  z-index: 10;
}


/* === MOBILE OVERRIDE: Keep Learn more left-aligned on small screens === */
@media (max-width: 520px){
  .home-learn{
    text-align: left !important;
    margin: 16px 0 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    display: inline-block !important;   /* defeat parent centering */
    align-self: flex-start !important;   /* if parent is flex */
    justify-content: flex-start !important;
  }
}

.answer-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}


/* === Game layout variables & shared widths === */
body.is-game { --cardw: 220px; }

/* Rows above/below the card align to card width */
body.is-game #controlsRow,
body.is-game #toolsRow,
body.is-game #answerRow{
  max-width: var(--cardw);
  margin-left: auto;
  margin-right: auto;
  display: flex;
  justify-content: center;
}

/* Grid wrapper holding sidebar + card */
.room-main{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  column-gap:12px;
  align-items:flex-start;
  justify-items:center;
  width:100%;
}

/* Left sidebar for participants */
.side-left{ min-width:220px; justify-self:end; }

/* Main card sizing and positioning */
/* Timer container inside the card */
.top-right{
  position:absolute;
  top:16px;
  right:16px;
  font-weight:800;
  display:flex;
  gap:12px;
  align-items:center;
}

/* Lobby wrapper */
.lobby-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  text-align:center;
  max-width:640px;
}

/* Question block in running */
.question-block{
  text-align:center;
  max-width:640px;
  padding:8px;
  margin-top:8px;
  position:relative;
}

/* Answer card spacing */
.answer-card{ 
  margin-top:8px; 
}
.actions-row{ gap:8px; margin-top:6px; }

/* Mobile: stack content and hide sidebar to avoid pushing/overlap */
@media (max-width: 767px){
  body.is-game { --cardw: min(90vw, 220px); }
  .room-main{ display:flex; flex-direction:column; align-items:center; }
  .side-left{ display:none; }
  }


/* === Mobile centering fix === */
@media (max-width: 767px){
  /* Stack and center the whole game area */
  .room-wrap{ display:flex; flex-direction:column; align-items:center; }

  /* Ensure the main wrapper is centered */
  .room-main{ display:flex; flex-direction:column; align-items:center; width:100%; }

  /* Constrain rows to the exact card width and center them */
  #controlsRow, #toolsRow, #answerRow{
    width:100%;
    max-width: var(--cardw) !important;
    margin-left:auto;
    margin-right:auto;
    display:flex;
    justify-content:center !important;
    gap:10px;
  }

  /* Keep the card centered and matching --cardw */
  }


/* --- Seats around card and responsive card sizing --- */
:root { --card-w: 220px; --card-h: calc(var(--card-w) * 1.181818); } /* 220x260 aspect */

.card.seats{ display:flex; flex-direction:column; justify-content:space-between; height: var(--card-h); }
.seats-left{ align-items:flex-end; text-align:right; padding-right:4px; }
.seats-right{ align-items:flex-start; text-align:left; padding-left:4px; }
.seat-item{ font-size:12px; line-height:1.2; margin:6px 0; white-space:nowrap; color:var(--ink); }
.seat-item.is-turn{ font-weight:700; }

@media (max-width: 640px){
  :root{ --card-w: clamp(150px, 42vw, 220px); }
  .seat-item{ font-size:11px; }
  }

/* === Authoritative game layout, last in file === */
#roomMain{ display:grid; width:476px; margin-inline:auto; grid-template-columns:120px 220px 120px; gap:8px; justify-items:center; align-items:start; box-sizing:border-box; }
#sideLeft{ width:120px; max-width:120px; justify-self:end; text-align:right; padding-right:6px; box-sizing:border-box; }
#sideRight{ width:120px; max-width:120px; justify-self:start; text-align:left; padding-left:6px; box-sizing:border-box; }
#mainCard{ width:220px; max-width:220px; height:260px; position:relative; box-sizing:border-box; justify-self:center; }
.card.main-card{ width:220px; max-width:220px; height:260px; }

@media screen and (max-width: 640px){
  #roomMain{ width:332px; grid-template-columns:60px 180px 60px; gap:6px; }
  #sideLeft, #sideRight{ width:60px; max-width:60px; }
  #mainCard, .card.main-card{ width:180px; max-width:180px; height:216px; }
}

/* === Match Square: Header Actions Slot (non-intrusive) === */
.header{ display:flex; align-items:center; justify-content:space-between; }
.header .ms-actions{ flex:1 1 auto; display:flex; align-items:center; justify-content:center; gap:12px; min-height:40px; }
.ms-timer{ font-weight:800; letter-spacing:0.5px; font-variant-numeric:tabular-nums; font-size:clamp(18px,3.8vw,32px); line-height:1; color:currentColor; }

@media (max-width: 430px){
  .header .ms-actions{ gap:6px; }
  .header .ms-actions .btn{ padding:6px 9px; font-size:12px; }
  .ms-timer{ font-size:16px; }
}
@media (max-width: 360px){
  .header .ms-actions .btn{ padding:5px 8px; font-size:11px; }
  .header .ms-actions .btn.ms-end{ max-width:48vw; }
  .ms-timer{ font-size:15px; }
}


/* === Top actions row full-bleed under header === */
.top-actions-row{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;
  width:100%;
  padding: 6px 16px; /* minimal height, slight horizontal padding to match header */
  box-sizing: border-box;
}
@media (max-width: 480px){
  .top-actions-row .btn{ padding:7px 10px; font-size:13px; }
}
@media (max-width: 380px){
  .top-actions-row .btn{ padding:6px 9px; font-size:12px; }
}

@media (max-width: 380px){
  .top-actions-row .btn{ padding:6px 9px; font-size:12px; }
}



/* === Participant initials circle above names ===
   Clean UI, 40x40 circle. Uses existing .seat-item and .is-turn.
   Normal: white bg, green border and text.
   Turn: green bg, white text.
================================================= */
.seat-item{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:4px;
  margin:8px 0;
}
/* Ensure both side columns center this widget */
.seats-left .seat-item,
.seats-right .seat-item{
  text-align:center;
  align-items:center;
}

.seat-initials{
  width:40px;
  height:40px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  font-size:18px; /* slightly larger than names */
  line-height:1;
  background:#ffffff;
  color: var(--green);
  border:2px solid var(--green);
  box-sizing:border-box;
  transition:background .15s ease, color .15s ease, border-color .15s ease, transform .15s ease;
}
/* Highlight when it is the participant's turn, piggybacks on existing .is-turn */
.seat-item.is-turn .seat-initials{
  background: var(--green);
  color:#ffffff;
  border-color: var(--green);
  transform: translateZ(0); /* avoid blurriness on some browsers */
}

.seat-name{
  font-size:12px;
  line-height:1.2;
  font-weight:400;
  color: var(--ink);
}
.seat-item.is-turn .seat-name{
  font-weight:700; /* keep existing emphasis */
}
@media (max-width: 480px){
  .seat-name { display: none; }
  .seat-item { gap: 2px; } /* optional, tightens spacing when name is hidden */
}

/* Slightly smaller circle on very small screens */
@media (max-width: 360px){
  .seat-initials{ width:35px; height:35px; font-size:16px; }
}


/* === Card visual states: idle vs running (no shadow), 40x40 logo === */
.card.main-card.card--idle{
  background:#ffffff;
  border-color: var(--green);
  color: var(--ink);
}
.card.main-card.card--running{
  background: var(--green);
  border-color: var(--green);
  color:#ffffff;
  position: relative;
  overflow: hidden;
}
/* Make all text inside the running card white only for the card area */
.card.main-card.card--running h1,
.card.main-card.card--running h2,
.card.main-card.card--running h3,
.card.main-card.card--running h4,
.card.main-card.card--running p,
.card.main-card.card--running .help,
.card.main-card.card--running .question-block,
.card.main-card.card--running .question-block *{
  color:#ffffff !important;
}

/* Top-centered logo in running state */
.card.main-card.card--running::before{
  content:"";
  position:absolute;
  top:30px;
  left:50%;
  width:30px;
  height:30px;
    margin-left:-12px;
  background:url("./assets/logo-game.png") no-repeat center center / contain;
}

/* Add top padding so content does not overlap logo */
.card.main-card.card--running{ padding-top:64px; }


/* === Sticky footer on #app: simple, CSS-only === */
html, body { height: 100%; min-height: 100dvh; }
#app { min-height: 100dvh; display: flex; flex-direction: column; }
/* Footer in normal flow, sits at bottom when content is short */
.site-footer { position: static; margin-top: auto; height: auto; box-sizing: border-box; }
body.is-game .site-footer { position: static; }

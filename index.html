<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MatchSqr</title>
  <style>
    :root { --green:#16a34a; --ink:#0f172a; --text:#1f2937; --muted:#6b7280; }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;color:var(--text);background:#fff;line-height:1.45;}
    .nav{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--ink);color:#fff;}
    .brand{font-weight:700;}
    .right{display:flex;gap:8px;}
    .container{max-width:960px;margin:24px auto;padding:0 16px;}
    .hero{text-align:center;margin:48px 0;}
    h1{font-size:32px;margin:0 0 8px 0;}
    h2{margin:16px 0 8px;}
    .sub{color:var(--muted);}
    .cta{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap;}
    .btn{border:1px solid var(--green);color:var(--green);background:#fff;padding:10px 16px;border-radius:10px;cursor:pointer;}
    .btn.primary{background:var(--green);color:#fff;}
    .btn.ghost{border-color:#475569;color:#e2e8f0;background:#1f2937;}
    .btn.small{padding:8px 12px;}
    .btn.danger{border-color:#ef4444;color:#ef4444;}
    .hidden{display:none;}
    .panel{border:1px solid #e5e7eb;border-radius:10px;padding:12px;margin-top:12px;background:#fafafa;}
    .grid{display:grid;grid-template-columns:1fr 1fr auto;gap:8px;margin:10px 0;}
    .grid input{padding:10px;border:1px solid #d1d5db;border-radius:8px;}
    .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
    .mono{background:#f7f7f7;padding:10px;border-radius:8px;overflow:auto;min-height:60px;font-family:ui-monospace,Menlo,Consolas,monospace;}
    .muted{color:var(--muted);font-size:14px;}
    .foot{max-width:960px;margin:40px auto 24px auto;padding:0 16px;color:#94a3b8;}
    @media (max-width:640px){.grid{grid-template-columns:1fr;}.nav{flex-wrap:wrap;gap:8px;}}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./config.js"></script>
</head>
<body>
  <header class="nav">
    <div class="brand">MatchSqr</div>
    <div class="right"><button id="btnHome" class="btn ghost">Home</button></div>
  </header>

  <main class="container">
    <!-- HOME -->
    <section id="homeSection">
      <div class="hero">
        <h1>Safe space to build meaningful connections.</h1>
        <p class="sub">Play short games that reveal values and style before looks.</p>
        <div class="cta">
          <button id="hostBtn" class="btn primary">Host the Game</button>
          <button id="joinBtn" class="btn">Join the Game</button>
        </div>
      </div>
    </section>

    <!-- HOST -->
    <section id="hostSection" class="hidden">
      <h2>Host a Room</h2>
      <p class="muted">Login, Create, Start, then reveal cards.</p>

      <form id="hostLoginForm" class="grid">
        <input id="hostEmail" type="email" placeholder="Email" required />
        <input id="hostPassword" type="password" placeholder="Password" required />
        <button class="btn small">Login</button>
      </form>

      <div class="row">
        <button id="createGameBtn" class="btn small primary">Create Game</button>
        <button id="startGameBtn" class="btn small">Start Game</button>
        <button id="endAnalyzeBtn" class="btn small danger">End game & analyze</button>
      </div>

      <div class="panel">
        <div><strong>Game Code:</strong> <span id="gameCodeOut">—</span></div>
        <div><strong>Game Id:</strong> <span id="gameIdOut">—</span></div>
        <div class="muted">Share the 6-digit code with players.</div>
      </div>

      <div class="panel">
        <div><strong>Status:</strong> <span id="statusOut">—</span></div>
        <div><strong>Ends at:</strong> <span id="endsAtOut">—</span></div>
        <div><strong>Time left:</strong> <span id="timeLeft">—</span></div>
      </div>

      <div class="panel">
        <div class="row"><button id="nextCardBtn" class="btn small">Reveal next card</button></div>
        <div style="margin-top:10px">
          <div class="muted">Current Card</div>
          <div id="questionText" style="font-size:18px; margin-top:6px;">—</div>
          <div id="questionClar" class="muted" style="margin-top:6px;"></div>
        </div>
      </div>

      <pre id="hostLog" class="mono">Ready.</pre>
    </section>

    <!-- JOIN -->
    <section id="joinSection" class="hidden">
      <h2>Join a Room</h2>
      <div class="grid">
        <input id="guestName" placeholder="Your name" />
        <input id="joinCode" placeholder="6-digit code" />
        <button id="joinRoomBtn" class="btn small">Join the Game</button>
      </div>

      <div class="panel">
        <div class="muted">Current Card</div>
        <div id="gQuestionText" style="font-size:18px; margin-top:6px;">—</div>
        <div id="gQuestionClar" class="muted" style="margin-top:6px;"></div>
      </div>

      <pre id="joinLog" class="mono"></pre>
    </section>
  </main>

  <footer class="foot"><div class="muted">Beta MVP prototype UI</div></footer>
  <script src="./app.js"></script>
</body>
</html>
